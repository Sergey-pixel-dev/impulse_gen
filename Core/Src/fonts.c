/**
 * @file : fonts.c
 * @brief : Font data for ST7789 driver
 */

/* Includes ------------------------------------------------------------------*/
#include "fonts.h"

/**
 * Битовые массивы для 8x8 шрифта
 * Каждый символ представлен в виде 8 байт (строки)
 */
const uint8_t FONT_DATA[] = {
	/* . */
	0x00,
	0x00,
	0x00,
	0x00,
	0x00,
	0x00,
	0xc0,
	0xc0,
	/* , */
	0x00,
	0x00,
	0x00,
	0x00,
	0x00,
	0x18,
	0x18,
	0x08,
	0x10,
	0x00,
	/* : */
	0x00,
	0x00,
	0x18,
	0x18,
	0x00,
	0x00,
	0x18,
	0x18,
	/* 0-9 */
	0x78,
	0x84,
	0x8c,
	0x94,
	0xa4,
	0xc4,
	0x84,
	0x78, // 0
	0x20,
	0x60,
	0xa0,
	0x20,
	0x20,
	0x20,
	0x20,
	0xf0, // 1
	0x78,
	0x84,
	0x04,
	0x18,
	0x20,
	0x40,
	0x84,
	0xFC, // 2
	0x78,
	0x84,
	0x04,
	0x38,
	0x04,
	0x04,
	0x84,
	0x78, // 3
	0x08,
	0x18,
	0x28,
	0x48,
	0x88,
	0xFC,
	0x08,
	0x08, // 4
	0xFC,
	0x80,
	0x80,
	0xF8,
	0x04,
	0x04,
	0x84,
	0x78, // 5
	0x38,
	0x40,
	0x80,
	0xF8,
	0x84,
	0x84,
	0x84,
	0x78, // 6
	0xFC,
	0x84,
	0x08,
	0x10,
	0x20,
	0x20,
	0x20,
	0x20, // 7
	0x78,
	0x84,
	0x84,
	0x78,
	0x84,
	0x84,
	0x84,
	0x78, // 8
	0x78,
	0x84,
	0x84,
	0x84,
	0x7C,
	0x04,
	0x08,
	0x70, // 9
	/* A-Z */
	0x18,
	0x24,
	0x42,
	0x42,
	0x7E,
	0x42,
	0x42,
	0x42, // A
	0x7C,
	0x42,
	0x42,
	0x7C,
	0x42,
	0x42,
	0x42,
	0x7C, // B
	0x3C,
	0x42,
	0x40,
	0x40,
	0x40,
	0x40,
	0x42,
	0x3C, // C
	0x78,
	0x44,
	0x42,
	0x42,
	0x42,
	0x42,
	0x44,
	0x78, // D
	0xfc,
	0x80,
	0x80,
	0xf8,
	0x80,
	0x80,
	0x80,
	0xfc, // E
	0x7E,
	0x40,
	0x40,
	0x7C,
	0x40,
	0x40,
	0x40,
	0x40, // F
	0x3C,
	0x42,
	0x40,
	0x40,
	0x4E,
	0x42,
	0x46,
	0x3A, // G
	0x88,
	0x88,
	0x88,
	0xf8,
	0x88,
	0x88,
	0x88,
	0x88, // H
	0xE0,
	0x40,
	0x40,
	0x40,
	0x40,
	0x40,
	0x40,
	0xE0, // I
	0x1F,
	0x04,
	0x04,
	0x04,
	0x04,
	0x04,
	0x44,
	0x38, // J
	0x42,
	0x44,
	0x48,
	0x70,
	0x48,
	0x44,
	0x42,
	0x41, // K
	0x80,
	0x80,
	0x80,
	0x80,
	0x80,
	0x80,
	0x80,
	0xF8, // L
	0x41,
	0x63,
	0x55,
	0x49,
	0x41,
	0x41,
	0x41,
	0x41, // M
	0x84,
	0xc4,
	0xa4,
	0x94,
	0x8c,
	0x84,
	0x84,
	0x84, // N
	0x3C,
	0x42,
	0x42,
	0x42,
	0x42,
	0x42,
	0x42,
	0x3C, // O
	0x7C,
	0x42,
	0x42,
	0x42,
	0x7C,
	0x40,
	0x40,
	0x40, // P
	0x3C,
	0x42,
	0x42,
	0x42,
	0x42,
	0x4A,
	0x44,
	0x3A, // Q
	0x7C,
	0x42,
	0x42,
	0x42,
	0x7C,
	0x48,
	0x44,
	0x42, // R
	0x3C,
	0x42,
	0x40,
	0x30,
	0x0C,
	0x02,
	0x42,
	0x3C, // S
	0x3E,
	0x08,
	0x08,
	0x08,
	0x08,
	0x08,
	0x08,
	0x08, // T - уменьшена высота
	0x42,
	0x42,
	0x42,
	0x42,
	0x42,
	0x42,
	0x42,
	0x3C, // U
	0x41,
	0x41,
	0x41,
	0x22,
	0x22,
	0x14,
	0x14,
	0x08, // V
	0x41,
	0x41,
	0x41,
	0x49,
	0x49,
	0x55,
	0x22,
	0x22, // W
	0x41,
	0x22,
	0x14,
	0x08,
	0x08,
	0x14,
	0x22,
	0x41, // X
	0x41,
	0x22,
	0x14,
	0x08,
	0x08,
	0x08,
	0x08,
	0x08, // Y
	0xfe,
	0x04,
	0x08,
	0x10,
	0x20,
	0x40,
	0x80,
	0xfe, // Z
	/* a-z */
	0x00,
	0x00,
	0x3C,
	0x02,
	0x3E,
	0x42,
	0x46,
	0x3A, // a
	0x40,
	0x40,
	0x5C,
	0x62,
	0x42,
	0x42,
	0x62,
	0x5C, // b
	0x00,
	0x00,
	0x3C,
	0x42,
	0x40,
	0x40,
	0x42,
	0x3C, // c
	0x02,
	0x02,
	0x3A,
	0x46,
	0x42,
	0x42,
	0x46,
	0x3A, // d
	0x00,
	0x00,
	0x3C,
	0x42,
	0x7E,
	0x40,
	0x42,
	0x3C, // e
	0x0C,
	0x12,
	0x10,
	0x7C,
	0x10,
	0x10,
	0x10,
	0x10, // f
	0x00,
	0x00,
	0x3A,
	0x46,
	0x42,
	0x42,
	0x46,
	0x3A,
	0x02,
	0x3C, // g
	0x40,
	0x40,
	0x5C,
	0x62,
	0x42,
	0x42,
	0x42,
	0x42, // h
	0x00,
	0x08,
	0x00,
	0x18,
	0x08,
	0x08,
	0x08,
	0x1C, // i
	0x00,
	0x02,
	0x00,
	0x06,
	0x02,
	0x02,
	0x02,
	0x02,
	0x42,
	0x3C, // j
	0x40,
	0x40,
	0x44,
	0x48,
	0x50,
	0x68,
	0x44,
	0x42, // k
	0x00,
	0x80,
	0x80,
	0x80,
	0x80,
	0x80,
	0x80,
	0xe0, // l
	0x00,
	0x00,
	0x76,
	0x49,
	0x49,
	0x49,
	0x49,
	0x49, // m
	0x00,
	0x00,
	0x5C,
	0x62,
	0x42,
	0x42,
	0x42,
	0x42, // n
	0x00,
	0x00,
	0x3C,
	0x42,
	0x42,
	0x42,
	0x42,
	0x3C, // o
	0x00,
	0x00,
	0x5C,
	0x62,
	0x42,
	0x42,
	0x62,
	0x5C,
	0x40,
	0x40, // p
	0x00,
	0x00,
	0x3A,
	0x46,
	0x42,
	0x42,
	0x46,
	0x3A,
	0x02,
	0x02, // q
	0x00,
	0x00,
	0x5C,
	0x62,
	0x40,
	0x40,
	0x40,
	0x40, // r
	0x00,
	0x00,
	0x3C,
	0x42,
	0x30,
	0x0C,
	0x42,
	0x3C, // s
	0x00,
	0x10,
	0x38,
	0x10,
	0x10,
	0x10,
	0x12,
	0x0C, // t
	0x00,
	0x00,
	0x42,
	0x42,
	0x42,
	0x42,
	0x46,
	0x3A, // u
	0x00,
	0x00,
	0x41,
	0x41,
	0x22,
	0x22,
	0x14,
	0x08, // v
	0x00,
	0x00,
	0x41,
	0x41,
	0x49,
	0x49,
	0x55,
	0x22, // w
	0x00,
	0x00,
	0x41,
	0x22,
	0x14,
	0x14,
	0x22,
	0x41, // x
	0x00,
	0x00,
	0x41,
	0x41,
	0x22,
	0x14,
	0x08,
	0x08,
	0x10,
	0x60, // y
	0x00,
	0x00,
	0x7E,
	0x04,
	0x08,
	0x10,
	0x20,
	0x7E, // z
	/* Пробел */
	0x00,
	0x00,
	0x00,
	0x00,
	0x00,
	0x00,
	0x00,
	0x00,
	/* Специальные символы */
	/* ! */
	0x80,
	0x80,
	0x80,
	0x80,
	0x80,
	0x00,
	0x80,
	0x80,
	/* ? */
	0x3C,
	0x42,
	0x02,
	0x0C,
	0x10,
	0x10,
	0x00,
	0x10,
	/* @ */
	0x3C,
	0x42,
	0x5A,
	0x5A,
	0x5A,
	0x40,
	0x42,
	0x3C,
	/* # */
	0x14,
	0x14,
	0x7F,
	0x14,
	0x7F,
	0x14,
	0x14,
	0x00,
	/* $ */
	0x08,
	0x3E,
	0x48,
	0x3C,
	0x12,
	0x7C,
	0x08,
	0x00,
	/* % */
	0x62,
	0x64,
	0x08,
	0x10,
	0x20,
	0x4C,
	0x8C,
	0x00,
	/* & */
	0x30,
	0x48,
	0x30,
	0x4A,
	0x44,
	0x4A,
	0x34,
	0x00,
	/* * */
	0x00,
	0x14,
	0x08,
	0x3E,
	0x08,
	0x14,
	0x00,
	0x00,
	/* ( */
	0x04,
	0x08,
	0x10,
	0x10,
	0x10,
	0x08,
	0x04,
	0x00,
	/* ) */
	0x10,
	0x08,
	0x04,
	0x04,
	0x04,
	0x08,
	0x10,
	0x00,
	/* / */
	0x02,
	0x04,
	0x08,
	0x10,
	0x20,
	0x40,
	0x80,
	0x00,
	/* + */
	0x00,
	0x08,
	0x08,
	0x3E,
	0x08,
	0x08,
	0x00,
	0x00,
	/* - */
	0x00,
	0x00,
	0x00,
	0x3E,
	0x00,
	0x00,
	0x00,
	0x00,
	/* = */
	0x00,
	0x00,
	0xf8,
	0x00,
	0x00,
	0xf8,
	0x00,
	0x00,
};

/**
 * Информация о символах: [ширина, смещение в массиве FONT_DATA]
 */
const uint16_t FONT_CHAR_INFO[][2] = {
	/* . */ {2, 0},
	/* , */ {3, 8},
	/* : */ {3, 18},
	/* 0 */ {6, 26},
	/* 1 */ {6, 34},
	/* 2 */ {6, 42},
	/* 3 */ {6, 50},
	/* 4 */ {6, 58},
	/* 5 */ {6, 66},
	/* 6 */ {6, 74},
	/* 7 */ {6, 82},
	/* 8 */ {6, 90},
	/* 9 */ {6, 98},
	/* A */ {8, 106},
	/* B */ {8, 114},
	/* C */ {8, 122},
	/* D */ {8, 130},
	/* E */ {8, 138},
	/* F */ {8, 146},
	/* G */ {8, 154},
	/* H */ {5, 162},
	/* I */ {3, 170},
	/* J */ {6, 178},
	/* K */ {8, 186},
	/* L */ {5, 194},
	/* M */ {8, 202},
	/* N */ {8, 210},
	/* O */ {8, 218},
	/* P */ {8, 226},
	/* Q */ {8, 234},
	/* R */ {8, 242},
	/* S */ {8, 250},
	/* T */ {8, 258},
	/* U */ {8, 266},
	/* V */ {8, 274},
	/* W */ {8, 282},
	/* X */ {8, 290},
	/* Y */ {8, 298},
	/* Z */ {8, 306},
	/* a */ {7, 314},
	/* b */ {7, 322},
	/* c */ {7, 330},
	/* d */ {7, 338},
	/* e */ {7, 346},
	/* f */ {5, 354},
	/* g */ {7, 362},
	/* h */ {7, 372},
	/* i */ {4, 380},
	/* j */ {4, 388},
	/* k */ {7, 398},
	/* l */ {3, 406},
	/* m */ {8, 414},
	/* n */ {7, 422},
	/* o */ {7, 430},
	/* p */ {7, 438},
	/* q */ {7, 448},
	/* r */ {5, 458},
	/* s */ {7, 466},
	/* t */ {5, 474},
	/* u */ {7, 482},
	/* v */ {7, 490},
	/* w */ {8, 498},
	/* x */ {7, 506},
	/* y */ {7, 514},
	/* z */ {7, 524},
	/* Space */ {4, 532},
	/* ! */ {1, 540},
	/* ? */ {5, 548},
	/* @ */ {6, 556},
	/* # */ {6, 564},
	/* $ */ {5, 572},
	/* % */ {6, 580},
	/* & */ {6, 588},
	/* * */ {5, 596},
	/* ( */ {4, 604},
	/* ) */ {4, 612},
	/* / */ {5, 620},
	/* + */ {5, 628},
	/* - */ {5, 636},
	/* = */ {5, 644},
};

/**
 * @brief Получение ширины символа
 * @param c Символ
 * @return Ширина в пикселях
 */
uint8_t GetFontCharWidth(char c)
{
	uint8_t index = GetFontCharIndex(c);
	if (index != 0xFF)
		return FONT_CHAR_INFO[index][0];

	return 0;
}

/**
 * @brief Получение индекса символа в массиве FONT_CHAR_INFO
 * @param c Символ
 * @return Индекс или 0xFF если символ не поддерживается
 */
uint8_t GetFontCharIndex(char c)
{
	if (c == '.')
		return 0;
	else if (c == ',')
		return 1;
	else if (c == ':')
		return 2;
	else if (c >= '0' && c <= '9')
		return 3 + (c - '0');
	else if (c >= 'A' && c <= 'Z')
		return 13 + (c - 'A');
	else if (c >= 'a' && c <= 'z')
		return 39 + (c - 'a');
	else if (c == ' ')
		return 65;
	else if (c == '!')
		return 66;
	else if (c == '?')
		return 67;
	else if (c == '@')
		return 68;
	else if (c == '#')
		return 69;
	else if (c == '$')
		return 70;
	else if (c == '%')
		return 71;
	else if (c == '&')
		return 72;
	else if (c == '*')
		return 73;
	else if (c == '(')
		return 74;
	else if (c == ')')
		return 75;
	else if (c == '/')
		return 76;
	else if (c == '+')
		return 77;
	else if (c == '-')
		return 78;
	else if (c == '=')
		return 79;

	return 0xFF; // Не поддерживаемый символ
}
